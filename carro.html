<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>CNH - Carro</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    .banner {
      width: 100%;
      height: 128px;
      object-fit: cover;
      display: block;
    }

    .titulo {
      margin-top: 30px;
      font-size: 28px;
      font-weight: bold;
    }

    .questao {
      margin: 30px auto;
      width: 80%;
      text-align: left;
      background-color: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #444;
    }

    .questao h3 {
      margin-bottom: 15px;
    }

    .opcao {
      background-color: #2a2a2a;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .opcao:hover {
      background-color: #3a3a3a;
    }

    .certa {
      background-color: green !important;
    }

    .errada {
      background-color: red !important;
    }

    #resultado {
      margin-top: 40px;
      font-size: 20px;
      font-weight: bold;
    }

    #continuar {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 16px;
      background-color: #00BFFF;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      display: inline-block;
    }
  </style>
</head>
<body>
  <img src="imgbannerbetahills/bannerbetahills.png" alt="Banner CNH" class="banner">
  <div class="titulo">B: Carro üöó</div>

  <div id="form-nome" style="text-align: center; margin-top: 20px;">
    <label for="nomeAluno" style="color: white;">Digite seu nome:</label><br><br>
    <input type="text" id="nomeAluno" placeholder="Seu nome..." style="padding: 8px; border-radius: 5px;"><br><br>
    <button onclick="iniciarProva()" style="padding: 8px 16px; cursor: pointer;">Come√ßar Prova</button>
  </div>

  <div id="quiz" style="display: none;"></div>
  <div id="resultado"></div>

  <script>
    const perguntas = [
      {
        pergunta: "1. Qual a idade m√≠nima para tirar CNH categoria B?",
        opcoes: ["16 anos", "18 anos", "21 anos", "17 anos"],
        correta: 1
      },
      {
        pergunta: "2. O que √© necess√°rio fazer antes de iniciar a condu√ß√£o de um carro?",
        opcoes: ["Ajustar o banco e os espelhos", "Ligar o r√°dio", "Colocar o cinto depois", "Nada"],
        correta: 0
      },
      {
        pergunta: "3. √â permitido dirigir usando o celular?",
        opcoes: ["Sim, se for mensagem", "Sim, se for r√°pido", "N√£o, √© infra√ß√£o", "Sim, parado no sinal"],
        correta: 2
      },
      {
        pergunta: "4. Em uma via com sinaliza√ß√£o de pare, o que o motorista deve fazer?",
        opcoes: ["Reduzir a velocidade", "Parar completamente", "Buzinar e seguir", "Olhar e seguir direto"],
        correta: 1
      },
      {
        pergunta: "5. O que indica uma linha cont√≠nua amarela no centro da via?",
        opcoes: ["Pode ultrapassar", "Divis√£o de faixas", "Proibido ultrapassar", "Estacionamento permitido"],
        correta: 2
      },
      {
        pergunta: "6. Qual a fun√ß√£o do cinto de seguran√ßa?",
        opcoes: ["Decora√ß√£o", "Evitar multas", "Reduzir impactos em acidentes", "Melhorar a postura"],
        correta: 2
      },
      {
        pergunta: "7. Ao se aproximar de uma faixa de pedestres sem sem√°foro, o que o motorista deve fazer?",
        opcoes: ["Acelerar", "Parar se houver pedestre", "Ignorar", "Buzinar para atravessar"],
        correta: 1
      },
      {
        pergunta: "8. Quando √© permitido usar a buzina?",
        opcoes: ["A qualquer momento", "S√≥ para saudar", "Somente em situa√ß√µes de risco", "Sempre em cruzamentos"],
        correta: 2
      },
      {
        pergunta: "9. O que o motorista deve fazer ao ver uma ambul√¢ncia com sirene ligada?",
        opcoes: ["Seguir normalmente", "Disputar espa√ßo", "Dar passagem imediata", "Ignorar"],
        correta: 2
      },
      {
        pergunta: "10. Em uma curva acentuada, o que se deve fazer?",
        opcoes: ["Acelerar", "Usar o freio de m√£o", "Reduzir a velocidade", "Dar r√©"],
        correta: 2
      }
    ];

    let acertos = 0;
    let erros = 0;
    let nomeAluno = "";

    const quizDiv = document.getElementById("quiz");
    const resultadoDiv = document.getElementById("resultado");

    function iniciarProva() {
      const inputNome = document.getElementById("nomeAluno").value.trim();
      if (inputNome === "") {
        alert("Por favor, digite seu nome para come√ßar.");
        return;
      }

      nomeAluno = inputNome;
      document.getElementById("form-nome").style.display = "none";
      quizDiv.style.display = "block";

      carregarQuestoes();
    }

    function carregarQuestoes() {
      perguntas.forEach((perg, i) => {
        const bloco = document.createElement("div");
        bloco.className = "questao";
        const titulo = document.createElement("h3");
        titulo.innerText = perg.pergunta;
        bloco.appendChild(titulo);

        perg.opcoes.forEach((texto, j) => {
          const opc = document.createElement("div");
          opc.className = "opcao";
          opc.innerText = texto;
          opc.onclick = () => {
            if (opc.classList.contains("certa") || opc.classList.contains("errada")) return;

            if (j === perg.correta) {
              opc.classList.add("certa");
              acertos++;
            } else {
              opc.classList.add("errada");
              erros++;
            }

            Array.from(opc.parentNode.querySelectorAll(".opcao")).forEach(el => {
              el.onclick = null;
              if (el !== opc && perg.opcoes.indexOf(el.innerText) === perg.correta) {
                el.classList.add("certa");
              }
            });

            verificarResultado();
          };
          bloco.appendChild(opc);
        });

        quizDiv.appendChild(bloco);
      });
    }

    function verificarResultado() {
      if (acertos >= 8 || erros >= 3 || acertos + erros === perguntas.length) {
        quizDiv.style.display = "none";
        resultadoDiv.innerHTML = "";

        if (acertos >= 8) {
          resultadoDiv.innerHTML = `
            <div style="color: #00FF00;">
              üéâ Parab√©ns, ${nomeAluno}! Voc√™ passou na te√≥rica!<br><br>
              Agora clique no bot√£o abaixo para continuar.
            </div>
            <a id="continuar" href="https://discord.gg/a4xUpjPs" target="_blank">Continuar</a>
          `;
          enviarParaDiscord("aprovado ‚úÖ");
        } else {
          resultadoDiv.innerHTML = `<div style="color: red;">‚ùå ${nomeAluno}, voc√™ foi reprovado. Tente novamente em outra oportunidade.</div>`;
          enviarParaDiscord("reprovado ‚ùå");
        }
      }
    }

    function enviarParaDiscord(status) {
      const webhookUrl = "https://discord.com/api/webhooks/1372662288850616400/NVE06rh0x6sOVSMk84VEWt-fCVtkGV8xVh7SM5OLQMFgGpcKyZRt-rbA4wI0o8aOplQW";
      const data = {
        content: `üì¢ O aluno **${nomeAluno}** foi **${status}** na prova te√≥rica de CNH B (Carro).`,
        username: "CNH BETA HiLLs Bot"
      };

      fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).catch((error) => console.error("Erro ao enviar webhook:", error));
    }
  </script>
</body>
</html>
