<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>CNH - Barcos</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    .banner {
      width: 100%;
      height: 128px;
      object-fit: cover;
      display: block;
    }

    .titulo {
      margin-top: 30px;
      font-size: 28px;
      font-weight: bold;
    }

    .questao {
      margin: 30px auto;
      width: 80%;
      text-align: left;
      background-color: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #444;
    }

    .questao h3 {
      margin-bottom: 15px;
    }

    .opcao {
      background-color: #2a2a2a;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .opcao:hover {
      background-color: #3a3a3a;
    }

    .certa {
      background-color: green !important;
    }

    .errada {
      background-color: red !important;
    }

    #resultado {
      margin-top: 40px;
      font-size: 20px;
      font-weight: bold;
    }

    #continuar {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 16px;
      background-color: #00BFFF;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      display: inline-block;
    }
  </style>
</head>
<body>
  <img src="imgbannerbetahills/bannerbetahills.png" alt="Banner CNH" class="banner">
  <div class="titulo">D: Barcos üö§</div>

  <div id="form-nome" style="text-align: center; margin-top: 20px;">
    <label for="nomeAluno" style="color: white;">Digite seu nome:</label><br><br>
    <input type="text" id="nomeAluno" placeholder="Seu nome..." style="padding: 8px; border-radius: 5px;"><br><br>
    <button onclick="iniciarProva()" style="padding: 8px 16px; cursor: pointer;">Come√ßar Prova</button>
  </div>

  <div id="quiz" style="display: none;"></div>
  <div id="resultado"></div>

  <script>
    const perguntas = [
      {
        pergunta: "1. Qual documento √© obrigat√≥rio para conduzir embarca√ß√µes de lazer?",
        opcoes: ["CNH categoria B", "Autoriza√ß√£o da Marinha", "Carteira de Habilita√ß√£o N√°utica", "Passaporte"],
        correta: 2
      },
      {
        pergunta: "2. Ao avistar outra embarca√ß√£o em rota de colis√£o, o que fazer?",
        opcoes: ["Aumentar a velocidade", "Manter o curso", "Tomar medidas para evitar colis√£o", "Ligar o r√°dio"],
        correta: 2
      },
      {
        pergunta: "3. Qual equipamento de seguran√ßa √© obrigat√≥rio em embarca√ß√µes?",
        opcoes: ["Capacete", "Colete salva-vidas", "Luva de borracha", "Extintor de inc√™ndio apenas"],
        correta: 1
      },
      {
        pergunta: "4. √â permitido conduzir barcos sob efeito de √°lcool?",
        opcoes: ["Sim", "Apenas √† noite", "N√£o", "Somente em √°guas calmas"],
        correta: 2
      },
      {
        pergunta: "5. O que deve ser feito antes de sair com a embarca√ß√£o?",
        opcoes: ["Verificar o combust√≠vel, documentos e equipamentos de seguran√ßa", "Chamar um amigo", "Ligar o motor e partir", "Ancorar"],
        correta: 0
      },
      {
        pergunta: "6. Qual a fun√ß√£o da √¢ncora?",
        opcoes: ["Aumentar a velocidade", "Frear a embarca√ß√£o", "Ficar parado na √°gua", "Evitar naufr√°gio"],
        correta: 2
      },
      {
        pergunta: "7. Em caso de tempestade, qual √© o procedimento correto?",
        opcoes: ["Acelerar", "Procurar abrigo seguro", "Pular na √°gua", "Ligar luz alta"],
        correta: 1
      },
      {
        pergunta: "8. Qual √≥rg√£o fiscaliza a navega√ß√£o em √°guas brasileiras?",
        opcoes: ["Pol√≠cia Federal", "Guarda Costeira", "Marinha do Brasil", "Corpo de Bombeiros"],
        correta: 2
      },
      {
        pergunta: "9. A buzina ou apito de uma embarca√ß√£o serve para:",
        opcoes: ["Entretenimento", "Sinaliza√ß√£o sonora", "Chamar os peixes", "Desabafar o estresse"],
        correta: 1
      },
      {
        pergunta: "10. Qual item n√£o pode faltar numa embarca√ß√£o de passeio?",
        opcoes: ["Boia circular", "Caixa de som", "Refrigerador", "Cadeira dobr√°vel"],
        correta: 0
      }
    ];

    let acertos = 0;
    let erros = 0;
    let nomeAluno = "";

    const quizDiv = document.getElementById("quiz");
    const resultadoDiv = document.getElementById("resultado");

    function iniciarProva() {
      const inputNome = document.getElementById("nomeAluno").value.trim();
      if (inputNome === "") {
        alert("Por favor, digite seu nome para come√ßar.");
        return;
      }

      nomeAluno = inputNome;
      document.getElementById("form-nome").style.display = "none";
      quizDiv.style.display = "block";

      carregarQuestoes();
    }

    function carregarQuestoes() {
      perguntas.forEach((perg, i) => {
        const bloco = document.createElement("div");
        bloco.className = "questao";
        const titulo = document.createElement("h3");
        titulo.innerText = perg.pergunta;
        bloco.appendChild(titulo);

        perg.opcoes.forEach((texto, j) => {
          const opc = document.createElement("div");
          opc.className = "opcao";
          opc.innerText = texto;
          opc.onclick = () => {
            if (opc.classList.contains("certa") || opc.classList.contains("errada")) return;

            if (j === perg.correta) {
              opc.classList.add("certa");
              acertos++;
            } else {
              opc.classList.add("errada");
              erros++;
            }

            Array.from(opc.parentNode.querySelectorAll(".opcao")).forEach(el => {
              el.onclick = null;
              if (el !== opc && perg.opcoes.indexOf(el.innerText) === perg.correta) {
                el.classList.add("certa");
              }
            });

            verificarResultado();
          };
          bloco.appendChild(opc);
        });

        quizDiv.appendChild(bloco);
      });
    }

    function verificarResultado() {
      if (acertos >= 8 || erros >= 3 || acertos + erros === perguntas.length) {
        quizDiv.style.display = "none";
        resultadoDiv.innerHTML = "";

        if (acertos >= 8) {
          resultadoDiv.innerHTML = `
            <div style="color: #00FF00;">
              üéâ Parab√©ns, ${nomeAluno}! Voc√™ passou na te√≥rica!<br><br>
              Agora clique no bot√£o abaixo para continuar.
            </div>
            <a id="continuar" href="https://discord.gg/a4xUpjPs" target="_blank">Continuar</a>
          `;
          enviarParaDiscord("aprovado ‚úÖ");
        } else {
          resultadoDiv.innerHTML = `<div style="color: red;">‚ùå ${nomeAluno}, voc√™ foi reprovado. Tente novamente em outra oportunidade.</div>`;
          enviarParaDiscord("reprovado ‚ùå");
        }
      }
    }

    function enviarParaDiscord(status) {
      const webhookUrl = "https://discord.com/api/webhooks/1372662288850616400/NVE06rh0x6sOVSMk84VEWt-fCVtkGV8xVh7SM5OLQMFgGpcKyZRt-rbA4wI0o8aOplQW";
      const data = {
        content: `üì¢ O aluno **${nomeAluno}** foi **${status}** na prova te√≥rica de CNH D (Barcos).`,
        username: "CNH BETA HiLLs Bot"
      };

      fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).catch((error) => console.error("Erro ao enviar webhook:", error));
    }
  </script>
</body>
</html>
