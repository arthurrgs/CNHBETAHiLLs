<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>CNH - Aeronaves</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    .banner {
      width: 100%;
      height: 128px;
      object-fit: cover;
      display: block;
    }

    .titulo {
      margin-top: 30px;
      font-size: 28px;
      font-weight: bold;
    }

    .questao {
      margin: 30px auto;
      width: 80%;
      text-align: left;
      background-color: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #444;
    }

    .questao h3 {
      margin-bottom: 15px;
    }

    .opcao {
      background-color: #2a2a2a;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .opcao:hover {
      background-color: #3a3a3a;
    }

    .certa {
      background-color: green !important;
    }

    .errada {
      background-color: red !important;
    }

    #resultado {
      margin-top: 40px;
      font-size: 20px;
      font-weight: bold;
    }

    #continuar {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 16px;
      background-color: #00BFFF;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      display: inline-block;
    }
  </style>
</head>
<body>
  <img src="imgbannerbetahills/bannerbetahills.png" alt="Banner CNH" class="banner">
  <div class="titulo">L: Aeronaves ‚úà</div>

  <div id="form-nome" style="text-align: center; margin-top: 20px;">
    <label for="nomeAluno" style="color: white;">Digite seu nome:</label><br><br>
    <input type="text" id="nomeAluno" placeholder="Seu nome..." style="padding: 8px; border-radius: 5px;"><br><br>
    <button onclick="iniciarProva()" style="padding: 8px 16px; cursor: pointer;">Come√ßar Prova</button>
  </div>

  <div id="quiz" style="display: none;"></div>
  <div id="resultado"></div>

  <script>
    const perguntas = [
      {
        pergunta: "1. Qual documento √© obrigat√≥rio para pilotar uma aeronave?",
        opcoes: ["CNH categoria A", "Licen√ßa de Piloto", "Carteira de Motorista", "RG e CPF"],
        correta: 1
      },
      {
        pergunta: "2. Antes do voo, o que deve ser feito obrigatoriamente?",
        opcoes: ["Checar a press√£o dos pneus", "Fazer inspe√ß√£o pr√©-voo", "Abastecer com diesel", "Ligar o r√°dio"],
        correta: 1
      },
      {
        pergunta: "3. O que indica uma luz vermelha piscando na pista?",
        opcoes: ["Autoriza√ß√£o para pouso", "Proibido pousar", "√Årea restrita", "Autoriza√ß√£o para decolagem"],
        correta: 1
      },
      {
        pergunta: "4. Qual altitude m√≠nima para voo seguro em √°reas urbanas?",
        opcoes: ["150 p√©s", "500 p√©s", "1000 p√©s", "2000 p√©s"],
        correta: 2
      },
      {
        pergunta: "5. Em caso de falha do motor durante o voo, o que fazer?",
        opcoes: ["Ejetar", "Manter altitude e planejar pouso de emerg√™ncia", "Pousar na √°gua", "Aumentar pot√™ncia"],
        correta: 1
      },
      {
        pergunta: "6. Quem regula a avia√ß√£o civil no Brasil?",
        opcoes: ["DETRAN", "ANAC", "FAB", "PRF"],
        correta: 1
      },
      {
        pergunta: "7. Qual √© o nome do equipamento que mede a altitude da aeronave?",
        opcoes: ["Alt√≠metro", "Bar√¥metro", "Anem√¥metro", "Term√¥metro"],
        correta: 0
      },
      {
        pergunta: "8. Qual √© a fun√ß√£o do manche em uma aeronave?",
        opcoes: ["Controlar motor", "Controlar dire√ß√£o da aeronave", "Frear", "Controlar trem de pouso"],
        correta: 1
      },
      {
        pergunta: "9. Como deve ser feita a comunica√ß√£o com a torre de controle?",
        opcoes: ["Pelo WhatsApp", "Por sinais manuais", "Via r√°dio com linguagem padr√£o", "Gritando no microfone"],
        correta: 2
      },
      {
        pergunta: "10. Ao voar em condi√ß√µes visuais, o piloto deve:",
        opcoes: ["Voar com GPS desligado", "Evitar olhar para fora", "Manter contato visual com o terreno e obst√°culos", "Ignorar o plano de voo"],
        correta: 2
      }
    ];

    let acertos = 0;
    let erros = 0;
    let nomeAluno = "";

    const quizDiv = document.getElementById("quiz");
    const resultadoDiv = document.getElementById("resultado");

    function iniciarProva() {
      const inputNome = document.getElementById("nomeAluno").value.trim();
      if (inputNome === "") {
        alert("Por favor, digite seu nome para come√ßar.");
        return;
      }

      nomeAluno = inputNome;
      document.getElementById("form-nome").style.display = "none";
      quizDiv.style.display = "block";

      carregarQuestoes();
    }

    function carregarQuestoes() {
      perguntas.forEach((perg, i) => {
        const bloco = document.createElement("div");
        bloco.className = "questao";
        const titulo = document.createElement("h3");
        titulo.innerText = perg.pergunta;
        bloco.appendChild(titulo);

        perg.opcoes.forEach((texto, j) => {
          const opc = document.createElement("div");
          opc.className = "opcao";
          opc.innerText = texto;
          opc.onclick = () => {
            if (opc.classList.contains("certa") || opc.classList.contains("errada")) return;

            if (j === perg.correta) {
              opc.classList.add("certa");
              acertos++;
            } else {
              opc.classList.add("errada");
              erros++;
            }

            Array.from(opc.parentNode.querySelectorAll(".opcao")).forEach(el => {
              el.onclick = null;
              if (el !== opc && perg.opcoes.indexOf(el.innerText) === perg.correta) {
                el.classList.add("certa");
              }
            });

            verificarResultado();
          };
          bloco.appendChild(opc);
        });

        quizDiv.appendChild(bloco);
      });
    }

    function verificarResultado() {
      if (acertos >= 8 || erros >= 3 || acertos + erros === perguntas.length) {
        quizDiv.style.display = "none";
        resultadoDiv.innerHTML = "";

        if (acertos >= 8) {
          resultadoDiv.innerHTML = `
            <div style="color: #00FF00;">
              üéâ Parab√©ns, ${nomeAluno}! Voc√™ passou na te√≥rica!<br><br>
              Agora clique no bot√£o abaixo para continuar.
            </div>
            <a id="continuar" href="https://discord.gg/a4xUpjPs" target="_blank">Continuar</a>
          `;
          enviarParaDiscord("aprovado ‚úÖ");
        } else {
          resultadoDiv.innerHTML = `<div style="color: red;">‚ùå ${nomeAluno}, voc√™ foi reprovado. Tente novamente em outra oportunidade.</div>`;
          enviarParaDiscord("reprovado ‚ùå");
        }
      }
    }

    function enviarParaDiscord(status) {
      const webhookUrl = "https://discord.com/api/webhooks/1372662288850616400/NVE06rh0x6sOVSMk84VEWt-fCVtkGV8xVh7SM5OLQMFgGpcKyZRt-rbA4wI0o8aOplQW";
      const data = {
        content: `üì¢ O aluno **${nomeAluno}** foi **${status}** na prova te√≥rica de CNH E (Aeronaves).`,
        username: "CNH BETA HiLLs Bot"
      };

      fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).catch((error) => console.error("Erro ao enviar webhook:", error));
    }
  </script>
</body>
</html>
